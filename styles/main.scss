@import 'reset';
@import 'font';
@import 'nav';
@import 'footer';

body {
  width: 100%;
  height: 100%;
  font-family: 'Noto Sans TC', sans-serif;
}

.main {
  width: 90%;
  margin: 56px auto 0;
  position: relative;
}

.main__title {
  margin-top: calc(60px + 1rem);
  margin-bottom: 1rem;
  font-size: 24px;
  font-weight: 700;
}

.main__progress {
  margin: 1rem auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.main__progress__bar {
  width: 60px;
  height: 2px;
  display: inline-block;
  background-color: $color-black;
}

.main__progress__bar--uncompleted {
  background-color: $color-gray-outline-button;
}

.main__progress__step {
  width: 32px;
  height: 32px;
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
  border-radius: 50%;
  border: 1px solid $color-gray-primary;
  font-size: 16px;
}

.main__progress__step.step--1 {
  background-color: $color-gray-primary;
  color: $color-white;
}

.step--description {
  display: none;
}

.main__progress__step--completed::before {
  content: url('../images/progress-complete.svg');
  width: 100%;
  height: 100%;
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  background-color: $color-gray-primary;
  color: #fff;
}

.main__progress__step--uncompleted {
  border-color: $color-gray-disable;
  color: $color-gray-disable;
}

.main__form__title {
  margin-bottom: 1.5rem;
  font-size: 24px;
  font-weight: 700;
}

.main__form__row {
  margin: 1rem auto;

  label {
    display: block;
    margin-bottom: .5rem;
    color: $color-gray-secondary;
  }

  input, select {
    width: 100%;
    height: 40px;
    display: inline-block;

    padding-left: 1rem;

    border: 1px solid #4A4A4A;
    border-radius: 4px;
  }

  input {
    &::placeholder {
      color: $color-gray-placeholder;
    }
  }

  select {
    -webkit-appearance: none;
    &:invalid {
      color: $color-gray-placeholder;
    }
  }

  .select--wrapper {
    position: relative;

    &::before {
      content: '';
      position: absolute;
      top: 50%;
      right: 8px;
      border-style: solid;
      border-width: 6px 6px 0 6px;
      border-color: $color-gray-primary transparent transparent transparent;
      transform: translateY(-50%);
    }
  }

  input[type='radio'] {
    width: 20px;
    height: 20px;
    margin: 20px;
    -webkit-appearance: none;
    border-radius: 50%;

    &:checked {
      box-shadow: inset 0 0 0 6px $color-gray-primary;
      border: none;
    }
    &:checked::before {
      content: '';
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      border: 1px solid $color-gray-primary;
      border-radius: 4px;
    }
  }

  input[type='radio']~label {
    display: inline-flex;
    flex-direction: column;
    flex-grow: 1;
    margin: 0;
    color: $color-black;
  }
}

.main__form__row--delivery {
  display: flex;
  align-items: center;
  position: relative;
  border: 1px solid $color-gray-outline-button;
  border-radius: 4px;
  

  .deliver--method {
    margin-bottom: .25rem;
    font-size: 14px;
    font-weight: 700;
  }

  .deliver--time {
    font-size: 12px;
  }

  .price {
    position: absolute;
    top: 13px;
    right: 20px;
  }
}

.main__form__row--title,
.main__form__row--cardSecurity {
  display: flex;

  .main__form__row__col+.main__form__row__col {
    margin-left: 1rem;
  }

  .main__form__row__col--title {
    flex-basis: 40%;
  }

  .main__form__row__col--name {
    flex-grow: 1;
    margin-left: 1rem;
  }
}

.main__form__row__col--city {
  margin-bottom: 1rem;
}

.main__form__row--button-group {
  width: 100%;
  height: calc(46px + 2rem);
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: absolute;
  top: 100%;
  border-top: 1px solid $color-gray-horizontal-line;
}

.button--step {
  height: 46px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  flex-grow: 1;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.button--step--previous {
  justify-content: flex-start;
  background-color: $color-white;
  color: $color-black;

  &::before {
    content: '←';
    margin-right: 1rem;
  }
}

.button--step--next {
  background-color: $color-pink;
  color: $color-white;

  &::after {
    content: '→';
    margin-left: 1rem;
  }
}

.button--step--next--completed::after {
  content: '';
  margin-left: 0;
}

.main__chart {
  width: 100%;
  border: 1px solid $color-gray-outline-button;
  border-radius: 8px;
  padding: 1rem;
}

.main__chart__item {
  display: flex;
  justify-content: space-between;
  margin-bottom: 1rem;

  .item--image {
    width: 100px;
    height: 100px;
    object-fit: cover;
    border-radius: 4px;
  }

  .item--description {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: flex-end;
  }

  .item--title {
    text-align: right;
  }

  .item--qty {
    width: 120px;
    display: flex;
    justify-content: space-between;
    align-items: center;

    input {
      width: 48px;
      border: none;
      outline: none;
      text-align: center;
      &::placeholder {
        width: 100%;
        text-align: center;
        font-size: 14px;
        font-weight: 500;
        color: $color-black;
      }
    }

    .item--button {
      width: 26px;
      height: 26px;
      display: inline-flex;
      justify-content: center;
      align-items: center;
      border-radius: 50%;
      border: none;
      outline: none;
      background-color: $color-gray-outline-button;
      font-size: 20px;
      cursor: pointer;
    }
  }
}

.price::before {
  content: '$';
}

.price--free::before {
  content: '';
}

.main__chart__delivery,
.main__chart__total-amount {
  display: flex;
  justify-content: space-between;
  padding: 1rem 0;
  border-top: 1px solid $color-gray-outline-button;
}

.d-none {
  display: none;
}

@media screen and (min-width: 375px) {
  .main {
    width: 80%;
    margin-top: 60px;
  }

  .main__progress {
    width: 50%;
    margin-left: 0;
  }

  .step--description {
    display: inline-block;
  }

  .desktop-layout {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;

    .main__form {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      min-height: 500px;
      
      flex-basis: 50%;
    }

    .main__form__row--address {
      display: flex;

      .main__form__row__col--city {
        flex-basis: 40%;
      }

      .main__form__row__col--address {
        flex-grow: 1;
        margin-left: 1rem;
      }
    }

    .main__form__row__col--cardExpiredDate,
    .main__form__row__col--cardCvc {
      flex-grow: 1;
    }

    .main__chart {
      position: relative;
      top: -64px; // 32px + 2rem
      flex-basis: 40%;
    }
  }

  .main__form__row--cardHolderName,
  .main__form__row--cardNumber {
    width: 66.67%;
    margin-left: 0;
  }

  .main__form__row--button-group {
    position: static;
  }

  .button--step {
    max-width: 174px;
  }

  .button--step.d-none {
    display: unset;
    visibility: hidden;
  }
}